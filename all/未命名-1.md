```mermaid
graph TD
    A[开始] -->|初始化| B[设置参数\nx1=3.0, x2=3.0\nλ=[0,0,0], μ=0.0\nr=1.0, c=0.2, ε=5e-5]
    B --> C[外层迭代开始\nouter_iter=0]
    C --> D[保存当前点\nx1_old=x1, x2_old=x2]
    D --> E[调用内层优化\ninner_optimization]
    E --> F{梯度收敛?}
    F -->|否| G[计算梯度\n∇L(x,λ,μ,r)]
    G --> H[梯度下降步\nx_new = x - α·∇L]
    H --> I[投影到可行域\n[0,6]×[0,8]]
    I --> J[比较目标值\nobj_new < obj_old?]
    J -->|是| K[更新迭代点\nx=x_new, 步长×1.2]
    J -->|否| L[步长×0.5\n步长<1e-10?]
    L -->|是| M[内层迭代结束]
    L -->|否| G
    K --> N[检查步长上限\n≤1.0?]
    N -->|否| O[步长=1.0]
    O --> P[内层迭代计数+1]
    N -->|是| P
    P --> Q{内层迭代次数\n≥max_iter?}
    Q -->|是| M
    Q -->|否| F
    F -->|是| M
    M --> R[计算变量变化\n|Δx|=√[(x-x_old)²]]
    R --> S[更新拉格朗日乘子\nλ_i=max(0,λ_i+r·g_i)\nμ=μ+r·h]
    S --> T[罚参数递减\nr=r·c]
    T --> U[外层迭代计数+1]
    U --> V[打印迭代信息\nIter, x, f(x), |Δx|]
    V --> W{收敛判断\n|Δx|>ε 且 iter<1000?}
    W -->|是| D
    W -->|否| X[打印最终结果\n最优解、目标值、约束值]
    X --> Y[结束]
```